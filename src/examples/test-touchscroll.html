<html>
	<head><title>Touch Scroll Test</title>

	<style type="text/css">
		body { font: 20px/1.5 "Helvetica Neue", Helvetica, Arial, sans-serif; }
		#pageContainer { margin: 0.5em; }
	</style> 

	<script type="text/javascript" src="minified-src.js"></script>
	<script type="text/javascript" src="ui.js"></script>
	<script type="text/javascript" src="touch-scroll.js"></script>
  	<script>
  		var NIAGARA = require('minified'), $ = NIAGARA.$, $$=NIAGARA.$$, EE = NIAGARA.EE, HTML = NIAGARA.HTML;
  		var _ = NIAGARA._;
  		var touchScroll = require('touchScroll');

  		var imgOrig = true;
  	
  		$(function() {
  			var ts = touchScroll('#ts2', null, {showInstructions: false, fullscreenButtonOn: EE('button', 'Fullscreen')});
			$('#leftBtn').onClick(ts.move, [40, 0, 200]);
			$('#upBtn').onClick(ts.move, [0, 40, 200]);
			$('#downBtn').onClick(ts.move, [0, -40, 200]);
			$('#rightBtn').onClick(ts.move, [-40, 0, 200]);

			$('#topLeftBtn').onClick(ts.moveTo, [0, 0, 400]);
			$('#centerBtn').onClick(function() {
				var pos = ts.position();
				ts.moveTo((pos.w-pos.viewW)/2, (pos.h-pos.viewH)/2, 400);
			});
			$('#bottomRightBtn').onClick(function() {
				var pos = ts.position();
				ts.moveTo(pos.w-pos.viewW, pos.h-pos.viewH, 400);
			});
			$('#swapImgBtn').onClick(function() {
				var img = EE('img', {src: imgOrig ? 'imgs/niagara-small.jpg' : 'imgs/niagara-large.jpg', 
									 $$:  imgOrig ? "width: 800px; height: 451px;" : "width: 4320px; height: 2432px;"});
				ts.changeContent(img);
				imgOrig = !imgOrig;
			});
			$('#fullscreenBtn').onClick(ts.toggleFullscreen);
			ts.onClick(function() {
				$('#clicked').set({$color: '#000'}).animate({$color: '#fff'}, 750);
			});
  		});
  	</script>
	</head>
	<body>
		<div id="pageContainer">
			<h2 id="title">Touch Scroll Test</h2>

			<div class="touchScroll" style="width: 800px; height: 300px;" data-initialPosition="1400, 1400">
				<img src="imgs/niagara-large.jpg" style="width: 4320px; height: 2432px;"/>
			</div>

			<h3>JavaScript API</h3>
			<div id="ts2" style="width: 800px; height: 300px;">
				<div class="background" style="background-color: black; width: 100%; height: 100%;"></div>
				<img src="imgs/niagara-large.jpg" style="width: 4320px; height: 2432px;"/>
			</div>
			<div><button id="leftBtn">Left</button><button id="upBtn">Up</button><button id="downBtn">Down</button><button id="rightBtn">Right</button></div>
			<div><button id="topLeftBtn">Top-Left</button><button id="centerBtn">Center</button><button id="bottomRightBtn">Bottom-Right</button></div>
			<div><button id="swapImgBtn">Swap Image</button><button id="fullscreenBtn">Fullscreen</button><span id="clicked" style="color: #fff">Clicked</span></div>

		</div>		
	</body>
</html>

